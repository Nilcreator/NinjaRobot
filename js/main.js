// prettier-ignore
const translations = {
    en: {
        navHome: 'Home',
        navAbout: 'About Us',
        navDevelopment: 'Development Progress',
        navContact: 'Contact Us',
        heroTitle: 'Welcome to the World of Ninja Robot',
        heroSubtitle: 'Building the Future of STEAM and AI Education',
        visionTitle: 'Our Vision',
        visionText: 'Our vision is to empower the next generation of innovators by making AI and robotics accessible and engaging. We believe in learning by doing. The Ninja Robot is a platform for students to bring their ideas to life, transforming everyday objects into smart, AI-powered applications. We aim to cultivate a passion for technology and problem-solving, helping children develop the critical skills needed for the future.',
        prototypeTitle: 'Latest Prototype',
        footerText: '&copy; 2025 Ninja Robot Project. All Rights Reserved.',
        aboutTitle: 'About Us',
        teamTitle: 'Our Team',
        teamMember1: 'John Doe',
        teamMember1Role: 'Lead Engineer',
        teamMember2: 'Jane Smith',
        teamMember2Role: 'AI Specialist',
        teamMember3: 'Peter Jones',
        teamMember3Role: 'Education Lead',
        fablabTitle: 'About Fablab Kannai',
        fablabText: 'Fablab Kannai is a community workshop and digital fabrication laboratory located in the heart of Kannai. We provide access to a wide range of tools and technologies, from 3D printers and laser cutters to electronics workbenches. Our mission is to foster innovation and creativity by providing a space for people to learn, collaborate, and create. We are proud to support the Ninja Robot project and its goal of advancing STEAM education.',
        aboutHeroTitle: 'About Ninja Robot',
        aboutHeroSubtitle: 'Our Mission and Vision',
        developmentTitle: 'Development Progress',
        developmentHeroTitle: 'Our Development Journey',
        developmentHeroSubtitle: 'Tracking Our Progress, Step by Step',
        timelineEvent1Title: 'July 2025 - Project Kick-off',
        timelineEvent1Text: 'The Ninja Robot project officially begins! We have assembled our core team and are finalizing the initial design specifications for the robot\'s hardware and software.',
        timelineEvent2Title: 'August 2025 - First Prototype',
        timelineEvent2Text: 'The first physical prototype of the Ninja Robot is assembled. We are now focusing on developing the core software for motor control and sensor integration.',
        timelineEvent3Title: 'September 2025 - AI Integration',
        timelineEvent3Text: 'We will begin integrating basic AI functionalities, including object recognition and voice commands. The goal is to create an intuitive and interactive user experience.',
        contactTitle: 'Contact Us',
        contactHeroTitle: 'Get in Touch',
        contactHeroSubtitle: 'We\'d love to hear from you!',
        formName: 'Name',
        formEmail: 'Email address',
        formMessage: 'Message',
        formSubmit: 'Send Message',
        ninjaTireTitle: 'NinjaTire',
        ninjaTireText: 'Meet NinjaTire, the all-terrain explorer. Equipped with rugged wheels and advanced AI navigation, it\'s designed to tackle any environment, making learning about robotics and mechanics an exciting adventure.',
        ninjaFeetTitle: 'NinjaFeet',
        ninjaFeetText: 'Introducing NinjaFeet, the agile and precise walker. With its bipedal design, NinjaFeet excels at demonstrating complex movements and balance, offering a unique insight into the world of humanoid robotics and AI.',
        timelineEvent1Detail: "Our journey began with assembling a passionate team of engineers, designers, and educators. We held intensive brainstorming sessions to define the core mission of the Ninja Robot: to create an affordable, open-source, and highly versatile platform for STEAM education. The initial hardware specifications focused on a modular design, allowing for easy customization and expansion. Key components selected include a Raspberry Pi for the main processing unit, servo motors for movement, and a variety of sensors for environmental interaction.",
        timelineEvent2Detail: "The first physical prototype, codenamed 'AlphaBot', is now complete. The chassis was 3D printed using designs developed in-house at Fablab Kannai. Assembly involved integrating the servo motors, wiring the Raspberry Pi, and connecting the initial sensor array, which includes ultrasonic and infrared sensors. The immediate next step is to develop the low-level software for motor control, which will allow 'AlphaBot' to perform basic movements and respond to sensor inputs.",
        timelineEvent3Detail: "With the core hardware and movement software in place, we are now entering the most exciting phase: AI integration. Our AI team will be using TensorFlow Lite to develop a lightweight neural network for on-device object recognition. The initial goal is to train the model to recognize simple shapes and colors. Simultaneously, we will be integrating a microphone and a text-to-speech engine to enable basic voice command capabilities, allowing users to give simple instructions to the robot."
    },
    ja: {
        navHome: 'ホーム',
        navAbout: '私たちについて',
        navDevelopment: '開発の進捗',
        navContact: 'お問い合わせ',
        heroTitle: 'ニンジャロボットの世界へようこそ',
        heroSubtitle: 'STEAMとAI教育の未来を築く',
        visionTitle: '私たちのビジョン',
        visionText: '私たちのビジョンは、AIとロボット工学を身近で魅力的なものにすることで、次世代のイノベーターを育成することです。私たちは、実践的な学習を信じています。ニンジャロボットは、学生が自分のアイデアを形にし、日常の物をスマートなAI搭載アプリケーションに変えるためのプラットフォームです。私たちは、テクノロジーと問題解決への情熱を育み、子供たちが未来に必要な重要なスキルを身につける手助けをすることを目指しています。',
        prototypeTitle: '最新のプロトタイプ',
        footerText: '&copy; 2025 ニンジャロボットプロジェクト。無断複写・転載を禁じます。',
        aboutTitle: '私たちについて',
        teamTitle: '私たちのチーム',
        teamMember1: 'ジョン・ドウ',
        teamMember1Role: 'リードエンジニア',
        teamMember2: 'ジェーン・スミス',
        teamMember2Role: 'AIスペシャリスト',
        teamMember3: 'ピーター・ジョーンズ',
        teamMember3Role: '教育リーダー',
        fablabTitle: 'ファブラボ関内について',
        fablabText: 'ファブラボ関内は、関内の中心部に位置するコミュニティワークショップおよびデジタルファブリケーションラボです。3Dプリンターやレーザーカッターから電子工作台まで、幅広いツールや技術へのアクセスを提供しています。私たちの使命は、人々が学び、協力し、創造するためのスペースを提供することで、革新と創造性を育むことです。私たちは、ニンジャロボットプロジェクトとそのSTEAM教育の推進という目標を誇りに思っています。',
        aboutHeroTitle: 'ニンジャロボットについて',
        aboutHeroSubtitle: '私たちの使命とビジョン',
        developmentTitle: '開発の進捗',
        developmentHeroTitle: '私たちの開発の旅',
        developmentHeroSubtitle: '段階的な進捗状況',
        timelineEvent1Title: '2025年7月 - プロジェクトキックオフ',
        timelineEvent1Text: 'ニンジャロボットプロジェクトが正式に始動！私たちはコアチームを結成し、ロボットのハードウェアとソフトウェアの初期設計仕様を最終決定しています。',
        timelineEvent2Title: '2025年8月 - 最初のプロトタイプ',
        timelineEvent2Text: 'ニンジャロボットの最初の物理プロトタイプが組み立てられました。現在、モーター制御とセンサー統合のためのコアソフトウェアの開発に注力しています。',
        timelineEvent3Title: '2025年9月 - AI統合',
        timelineEvent3Text: '物体認識や音声コマンドなど、基本的なAI機能の統合を開始します。目標は、直感的でインタラクティブなユーザーエクスペリエンスを創出することです。',
        contactTitle: 'お問い合わせ',
        contactHeroTitle: 'お問い合わせ',
        contactHeroSubtitle: 'お気軽にお問い合わせください！',
        formName: '名前',
        formEmail: 'メールアドレス',
        formMessage: 'メッセージ',
        formSubmit: 'メッセージを送信',
        ninjaTireTitle: 'ニンジャタイヤ',
        ninjaTireText: '全地形対応の探検家、ニンジャタイヤをご紹介します。頑丈なホイールと高度なAIナビゲーションを搭載し、あらゆる環境に対応できるように設計されており、ロボット工学と力学の学習をエキサイティングな冒険にします。',
        ninjaFeetTitle: 'ニンジャフィート',
        ninjaFeetText: '俊敏で正確な歩行者、ニンジャフィートをご紹介します。二足歩行の設計により、ニンジャフィートは複雑な動きとバランスを実証することに優れており、ヒューマノイドロボットとAIの世界へのユニークな洞察を提供します。',
        timelineEvent1Detail: "私たちの旅は、情熱的なエンジニア、デザイナー、教育者からなるチームを結成することから始まりました。私たちは集中的なブレインストーミングセッションを行い、ニンジャロボットの核心的な使命を定義しました。それは、STEAM教育のための手頃でオープンソース、そして非常に汎用性の高いプラットフォームを創造することです。初期のハードウェア仕様は、簡単なカスタマイズと拡張を可能にするモジュラーデザインに焦点を当てました。主要コンポーネントとして、メイン処理ユニット用のRaspberry Pi、移動用のサーボモーター、環境との相互作用のためのさまざまなセンサーが選ばれました。",
        timelineEvent2Detail: "コードネーム「アルファボット」と名付けられた最初の物理プロトタイプが完成しました。シャーシは、ファブラボ関内で自社開発したデザインを用いて3Dプリントされました。組み立てには、サーボモーターの統合、Raspberry Piの配線、超音波および赤外線センサーを含む初期センサーアレイの接続が含まれました。次の直接的なステップは、モーター制御用の低レベルソフトウェアを開発し、「アルファボット」が基本的な動きを実行し、センサー入力に応答できるようにすることです。",
        timelineEvent3Detail: "コアとなるハードウェアと移動ソフトウェアが整った今、私たちは最もエキサイティングなフェーズ、AIの統合に入ります。私たちのAIチームは、TensorFlow Liteを使用して、オンデバイスでの物体認識のための軽量ニューラルネットワークを開発します。初期の目標は、簡単な形や色を認識するようにモデルをトレーニングすることです。同時に、マイクとテキスト読み上げエンジンを統合して、基本的な音声コマンド機能を有効にし、ユーザーがロボットに簡単な指示を出せるようにします。"
    }
};

document.addEventListener('DOMContentLoaded', () => {
    let currentLanguage = 'en';

    // --- LANGUAGE TRANSLATION ---
    const setLanguage = (language) => {
        currentLanguage = language;
        document.querySelectorAll('[data-translate]').forEach(element => {
            const key = element.getAttribute('data-translate');
            if (translations[language] && translations[language][key]) {
                element.innerHTML = translations[language][key];
            }
        });
        localStorage.setItem('language', language);
        document.documentElement.lang = language;
    };

    const languageSelector = document.getElementById('language-selector');
    if (languageSelector) {
        languageSelector.addEventListener('change', (event) => {
            setLanguage(event.target.value);
        });

        const savedLanguage = localStorage.getItem('language') || 'en';
        languageSelector.value = savedLanguage;
        setLanguage(savedLanguage);
    }

    // --- STICKY HEADER ---
    const navbar = document.querySelector('.navbar');
    if (navbar) {
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });
    }

    // --- SCROLL ANIMATIONS ---
    const animatedSections = document.querySelectorAll('.fade-in-section');
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('is-visible');
                observer.unobserve(entry.target);
            }
        });
    }, {
        threshold: 0.1
    });

    animatedSections.forEach(section => {
        observer.observe(section);
    });

    // --- TIMELINE MODAL ---
    const modal = document.getElementById('timeline-modal');
    if (modal) {
        const modalTitle = document.getElementById('modal-title');
        const modalText = document.getElementById('modal-text');
        const modalImage = document.getElementById('modal-image');
        const closeBtn = document.getElementById('modal-close-btn');
        const clickableItems = document.querySelectorAll('.timeline-content.clickable');

        clickableItems.forEach(item => {
            item.addEventListener('click', () => {
                const titleKey = item.getAttribute('data-modal-title-key');
                const textKey = item.getAttribute('data-modal-text-key');
                const imageSrc = item.getAttribute('data-modal-image');

                modalTitle.textContent = translations[currentLanguage][titleKey];
                modalText.textContent = translations[currentLanguage][textKey];
                
                if (imageSrc) {
                    modalImage.src = imageSrc;
                    modalImage.style.display = 'block';
                } else {
                    modalImage.style.display = 'none';
                }
                
                modal.classList.add('show');
            });
        });

        const closeModal = () => {
            modal.classList.remove('show');
        };

        closeBtn.addEventListener('click', closeModal);
        modal.addEventListener('click', (event) => {
            if (event.target === modal) {
                closeModal();
            }
        });
    }
});